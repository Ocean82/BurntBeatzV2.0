import { useState } from \"react\"\n\nexport function useProjectManager() {\n  const [projects, setProjects] = useState([])\n  const [loading, setLoading] = useState(false)\n\n  async function saveProject(studio, userId, name) {\n    setLoading(true)\n    const res = await fetch(\"/api/studio/save\", {\n      method: \"POST\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify({ userId, name, studioState: studio })\n    })\n    const data = await res.json()\n    setLoading(false)\n    return data\n  }\n\n  async function loadProject(id) {\n    setLoading(true)\n    const res = await fetch(\"/api/studio/load\", {\n      method: \"POST\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify({ id })\n    })\n    const data = await res.json()\n    setLoading(false)\n    return data\n  }\n\n  async function listProjects() {\n    setLoading(true)\n    const res = await fetch(\"/api/studio/list\")\n    const data = await res.json()\n    setProjects(data.projects)\n    setLoading(false)\n    return data.projects\n  }\n\n  async function requestRender(studio, quality = \"high\") {\n    setLoading(true)\n    const res = await fetch(\"/api/studio/render\", {\n      method: \"
